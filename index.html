<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KwaCaleni Soup Kitchen</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- IMPORTANT: Replace with your actual Google Maps API key -->
    <!-- You need to enable: Maps JavaScript API and Geocoding API -->
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDmqJD5XxpPozi-bG9OqFm5_C6FeBiDaYw&callback=initMap&libraries=&v=weekly" defer></script>
    <style>
        body { font-family: 'Inter', sans-serif; }
        html { scroll-behavior: smooth; }
        .hidden-form { display: none; }
        #map { height: 100%; }
        #map-loading {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
            background: #f3f4f6;
            color: #6b7280;
        }
        .donation-type-btn.active {
            border-color: #dc2626;
            background-color: #fef2f2;
            color: #dc2626;
        }
        .item-btn.selected {
            border-color: #f97316;
            background-color: #ffedd5;
            color: #9a3412;
        }
        .amount-btn.selected {
            background-color: #dc2626;
            color: white;
            border-color: #dc2626;
        }
    </style>
</head>
<body class="bg-stone-50 text-gray-900">

    <!-- Navbar -->
    <header id="navbar" class="fixed top-0 left-0 right-0 z-50 transition-all duration-300 py-5 bg-transparent">
        <div class="container mx-auto px-6 flex justify-between items-center">
            <a href="#home" class="flex items-center gap-2 group">
                <div id="nav-icon-bg" class="p-2 rounded-full transition-colors bg-white/20 backdrop-blur-md">
                    <i data-lucide="utensils-crossed" id="nav-icon" class="w-6 h-6 text-white transition-colors"></i>
                </div>
                <span id="nav-text" class="text-xl font-bold tracking-tight text-white">
                    KwaCaleni Soup<span id="nav-highlight" class="text-red-200">Kitchen</span>
                </span>
            </a>

            <!-- Desktop Nav -->
            <nav class="hidden md:flex items-center gap-8">
                <a href="#home" class="text-sm font-medium text-white/90 hover:text-white hover:text-red-500 transition-colors nav-link">Home</a>
                <a href="#about" class="text-sm font-medium text-white/90 hover:text-white hover:text-red-500 transition-colors nav-link">About</a>
                <a href="#services" class="text-sm font-medium text-white/90 hover:text-white hover:text-red-500 transition-colors nav-link">Services</a>
                <a href="#hours" class="text-sm font-medium text-white/90 hover:text-white hover:text-red-500 transition-colors nav-link">Hours</a>
                <a href="#volunteer" class="text-sm font-medium text-white/90 hover:text-white hover:text-red-500 transition-colors nav-link">Volunteer</a>
                <a href="#contact" class="text-sm font-medium text-white/90 hover:text-white hover:text-red-500 transition-colors nav-link">Contact</a>
                <a href="#donate" id="nav-donate-btn" class="rounded-full px-6 py-2 font-semibold shadow-lg hover:shadow-xl transition-all hover:-translate-y-0.5 bg-white text-red-600 hover:bg-gray-100">
                    Donate Now
                </a>
            </nav>

            <!-- Mobile Toggle -->
            <button id="mobile-menu-btn" class="md:hidden p-2 text-white">
                <i data-lucide="menu"></i>
            </button>
        </div>

        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden bg-white border-t border-gray-100 overflow-hidden absolute top-full left-0 w-full shadow-lg">
            <nav class="flex flex-col p-6 gap-4">
                <a href="#home" class="text-lg font-medium text-gray-700 hover:text-red-600 mobile-link">Home</a>
                <a href="#about" class="text-lg font-medium text-gray-700 hover:text-red-600 mobile-link">About</a>
                <a href="#services" class="text-lg font-medium text-gray-700 hover:text-red-600 mobile-link">Services</a>
                <a href="#hours" class="text-lg font-medium text-gray-700 hover:text-red-600 mobile-link">Hours</a>
                <a href="#volunteer" class="text-lg font-medium text-gray-700 hover:text-red-600 mobile-link">Volunteer</a>
                <a href="#contact" class="text-lg font-medium text-gray-700 hover:text-red-600 mobile-link">Contact</a>
                <a href="#donate" class="w-full bg-red-600 hover:bg-red-700 text-center py-3 text-white rounded-full mt-2 mobile-link">Donate Now</a>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section id="home" class="relative h-screen flex items-center justify-center overflow-hidden">
        <div class="absolute inset-0 z-0">
            <img src="https://images.unsplash.com/photo-1553909489-cd47e0907980?ixlib=rb-4.0.3&auto=format&fit=crop&w=1925&q=80" alt="Serving food" class="w-full h-full object-cover"/>
            <div class="absolute inset-0 bg-gradient-to-b from-black/80 via-black/60 to-black/80"></div>
        </div>
        <div class="relative z-10 container mx-auto px-6 text-center text-white">
            <div class="max-w-4xl mx-auto transform transition-all duration-1000 translate-y-0 opacity-100">
                <span class="inline-block py-1 px-3 rounded-full bg-red-600/20 border border-red-500/50 text-red-300 text-sm font-semibold tracking-wide mb-6 backdrop-blur-sm">
                    ESTABLISHED 2020
                </span>
                <h1 class="text-5xl md:text-7xl font-bold mb-8 leading-tight tracking-tight">
                    Serving Meals with <br />
                    <span class="text-transparent bg-clip-text bg-gradient-to-r from-red-400 to-orange-300">
                        Love & Compassion
                    </span>
                </h1>
                <p class="text-xl md:text-2xl text-gray-300 mb-10 max-w-2xl mx-auto font-light leading-relaxed">
                    At KwaCaleni Soup Kitchen, we believe no one should go to bed hungry. 
                    Building a stronger community, one meal at a time.
                </p>
                <div class="flex flex-col sm:flex-row gap-4 justify-center">
                    <a href="#volunteer" class="text-lg px-8 py-4 bg-red-600 hover:bg-red-700 text-white rounded-full shadow-xl hover:shadow-2xl transition-all hover:-translate-y-1 font-semibold">
                        Volunteer With Us
                    </a>
                    <a href="#about" class="text-lg px-8 py-4 bg-white/10 border border-white/30 text-white hover:bg-white/20 rounded-full backdrop-blur-md font-semibold transition-all">
                        Learn More
                    </a>
                </div>
            </div>
        </div>
        <div class="absolute bottom-10 left-1/2 -translate-x-1/2 text-white/50 animate-bounce">
            <i data-lucide="chevron-down" class="w-8 h-8"></i>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="py-24 bg-white overflow-hidden">
        <div class="container mx-auto px-6">
            <div class="flex flex-col lg:flex-row items-center gap-16">
                <div class="flex-1">
                    <div class="flex items-center gap-2 mb-4">
                        <div class="h-1 w-12 bg-red-600"></div>
                        <span class="text-red-600 font-bold uppercase tracking-wider text-sm">Our Story</span>
                    </div>
                    <h2 class="text-4xl md:text-5xl font-bold text-gray-900 mb-8 leading-tight">
                        More Than Just a <br/>Soup Kitchen
                    </h2>
                    <div class="space-y-6 text-lg text-gray-600 leading-relaxed">
                        <p>KwaCaleni Soup Kitchen was founded in 2020 by Lydia Caleni with a simple yet powerful mission: to ensure that no one in our community goes hungry.</p>
                        <p>What started as a humble initiative serving meals from Lydia's home kitchen has blossomed into a community-supported sanctuary serving hundreds of nutritious meals each week. We operate with the unwavering belief that everyone deserves access to wholesome food, regardless of their circumstances.</p>
                        <div class="bg-orange-50 p-8 rounded-2xl border-l-4 border-orange-400 mt-8 relative">
                            <i data-lucide="quote" class="absolute top-4 left-4 w-8 h-8 text-orange-200"></i>
                            <p class="italic text-gray-800 font-medium relative z-10 pl-6">
                                "We treat every individual with dignity and respect, recognizing that we all face challenges at different points in our lives. It's about restoring hope, not just filling stomachs."
                            </p>
                            <p class="text-right mt-4 font-bold text-orange-800">— Lydia Caleni, Founder</p>
                        </div>
                    </div>
                </div>
                <div class="flex-1 relative">
                    <div class="relative z-10 rounded-3xl overflow-hidden shadow-2xl">
                        <img src="https://images.unsplash.com/photo-1576867757603-05b134ebc379?ixlib=rb-4.0.3&auto=format&fit=crop&w=1950&q=80" alt="Volunteers serving food" class="w-full h-auto object-cover"/>
                    </div>
                    <div class="absolute -bottom-10 -right-10 w-64 h-64 bg-red-100 rounded-full opacity-50 z-0 blur-3xl"></div>
                    <div class="absolute -top-10 -left-10 w-64 h-64 bg-orange-100 rounded-full opacity-50 z-0 blur-3xl"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Services Section -->
    <section id="services" class="py-24 bg-stone-50">
        <div class="container mx-auto px-6">
            <div class="text-center max-w-3xl mx-auto mb-16">
                <span class="text-red-600 font-bold uppercase tracking-wider text-sm">What We Do</span>
                <h2 class="text-4xl font-bold text-gray-900 mt-2 mb-4">Our Services</h2>
                <p class="text-xl text-gray-600">Comprehensive support for body, mind, and spirit.</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                <!-- Service 1 -->
                <div class="bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden border border-gray-100 group hover:-translate-y-2">
                    <div class="h-48 overflow-hidden relative">
                        <div class="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent z-10"></div>
                        <img src="https://images.unsplash.com/photo-1482049016688-2d3e1b311543?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" alt="Hot Meals" class="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-500"/>
                        <div class="absolute bottom-4 left-4 z-20 w-10 h-10 rounded-xl bg-red-100 text-red-600 flex items-center justify-center shadow-lg">
                            <i data-lucide="utensils" class="w-5 h-5"></i>
                        </div>
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-bold text-gray-900 mb-3">Hot Meals</h3>
                        <p class="text-gray-600 leading-relaxed text-sm">We serve nutritious, hot meals daily prepared with fresh ingredients donated by local businesses and community members.</p>
                    </div>
                </div>

                <!-- Service 2 -->
                <div class="bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden border border-gray-100 group hover:-translate-y-2">
                    <div class="h-48 overflow-hidden relative">
                        <div class="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent z-10"></div>
                        <img src="https://images.unsplash.com/photo-1466692476868-aef1dfb1e735?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" alt="Community Garden" class="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-500"/>
                        <div class="absolute bottom-4 left-4 z-20 w-10 h-10 rounded-xl bg-green-100 text-green-600 flex items-center justify-center shadow-lg">
                            <i data-lucide="sprout" class="w-5 h-5"></i>
                        </div>
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-bold text-gray-900 mb-3">Community Garden</h3>
                        <p class="text-gray-600 leading-relaxed text-sm">Our garden provides fresh produce for our kitchen and teaches sustainable urban farming techniques to the community.</p>
                    </div>
                </div>

                <!-- Service 3 -->
                <div class="bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden border border-gray-100 group hover:-translate-y-2">
                    <div class="h-48 overflow-hidden relative">
                        <div class="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent z-10"></div>
                        <img src="https://images.unsplash.com/photo-1599058945522-28d584b6f0ff?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" alt="Kids Boxing Gym" class="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-500"/>
                        <div class="absolute bottom-4 left-4 z-20 w-10 h-10 rounded-xl bg-blue-100 text-blue-600 flex items-center justify-center shadow-lg">
                            <i data-lucide="dumbbell" class="w-5 h-5"></i>
                        </div>
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-bold text-gray-900 mb-3">Kids Boxing Gym</h3>
                        <p class="text-gray-600 leading-relaxed text-sm">A safe space for youth to build discipline, fitness, and confidence through the sport of boxing, guided by expert coaches.</p>
                    </div>
                </div>

                 <!-- Service 4 -->
                 <div class="bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden border border-gray-100 group hover:-translate-y-2">
                    <div class="h-48 overflow-hidden relative">
                        <div class="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent z-10"></div>
                        <img src="https://images.unsplash.com/photo-1544816155-12df9643f363?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" alt="Sewing Classes" class="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-500"/>
                        <div class="absolute bottom-4 left-4 z-20 w-10 h-10 rounded-xl bg-pink-100 text-pink-600 flex items-center justify-center shadow-lg">
                            <i data-lucide="scissors" class="w-5 h-5"></i>
                        </div>
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-bold text-gray-900 mb-3">Sewing Classes</h3>
                        <p class="text-gray-600 leading-relaxed text-sm">Teaching kids valuable skills in tailoring and fashion design using sewing machines to create their own clothes.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Hours Section -->
    <section id="hours" class="py-24 bg-white relative overflow-hidden">
        <div class="container mx-auto px-6 relative z-10">
            <div class="max-w-4xl mx-auto bg-white rounded-3xl shadow-2xl overflow-hidden border border-gray-100">
                <div class="flex flex-col md:flex-row">
                    <div class="bg-gray-900 p-12 md:w-2/5 text-white flex flex-col justify-center items-center text-center">
                        <div class="bg-white/10 p-4 rounded-full mb-6">
                            <i data-lucide="clock" class="w-10 h-10 text-red-500"></i>
                        </div>
                        <h2 class="text-3xl font-bold mb-4">Operating Hours</h2>
                        <p class="text-gray-400">Come visit us for a warm meal and friendly company.</p>
                    </div>
                    <div class="p-12 md:w-3/5 bg-stone-50">
                        <h3 class="text-xl font-bold text-gray-800 mb-8 border-b border-gray-200 pb-4">Catering Schedule</h3>
                        <ul class="space-y-6">
                            <li class="flex justify-between items-center">
                                <div>
                                    <span class="font-medium text-gray-600">Tuesdays & Thursdays</span>
                                    <p class="text-sm text-gray-500">Kuyasa Clinic</p>
                                </div>
                                <span class="font-bold text-gray-900 bg-white px-4 py-2 rounded-lg shadow-sm">08:30 AM - 10:00 AM</span>
                            </li>
                            <li class="flex justify-between items-center">
                                <div>
                                    <span class="font-medium text-gray-600">Wednesdays (School Days)</span>
                                    <p class="text-sm text-gray-500">At Home</p>
                                </div>
                                <span class="font-bold text-gray-900 bg-white px-4 py-2 rounded-lg shadow-sm">03:00 PM - 05:00 PM</span>
                            </li>
                            <li class="flex justify-between items-center">
                                <div>
                                    <span class="font-medium text-gray-600">Wednesdays (Holidays)</span>
                                    <p class="text-sm text-gray-500">At Home</p>
                                </div>
                                <span class="font-bold text-gray-900 bg-white px-4 py-2 rounded-lg shadow-sm">01:00 PM - 03:00 PM</span>
                            </li>
                        </ul>
                        
                        <div class="mt-12 p-6 bg-amber-50 rounded-xl border border-amber-200">
                            <div class="flex gap-3">
                                <i data-lucide="info" class="w-5 h-5 text-amber-600 shrink-0 mt-0.5"></i>
                                <div>
                                    <h4 class="font-semibold text-amber-800 mb-1">Shoprite Delivery</h4>
                                    <p class="text-sm text-amber-700">Shoprite delivers soup and bread twice a month. Dates are chosen by the owner and vary monthly.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="absolute top-0 left-0 w-full h-full opacity-5 bg-[radial-gradient(#e74c3c_1px,transparent_1px)] [background-size:20px_20px]"></div>
    </section>

    <!-- Volunteer Section -->
    <section id="volunteer" class="py-24 bg-stone-50">
        <div class="container mx-auto px-6">
            <div class="flex flex-col lg:flex-row gap-16 items-start">
                <div class="flex-1 lg:sticky lg:top-24">
                    <span class="text-red-600 font-bold uppercase tracking-wider text-sm">Join Our Mission</span>
                    <h2 class="text-4xl font-bold text-gray-900 mt-2 mb-6">Volunteer With Us</h2>
                    <p class="text-lg text-gray-600 mb-8 leading-relaxed">Our volunteers are the heart of KwaCaleni Soup Kitchen. Without their dedication and compassion, we couldn't serve our community.</p>
                    <div class="space-y-8">
                        <div class="flex gap-4">
                            <div class="w-12 h-12 rounded-full bg-red-100 text-red-600 flex items-center justify-center shrink-0 font-bold text-xl">1</div>
                            <div><h3 class="text-xl font-semibold text-gray-900 mb-2">Inclusive Community</h3><p class="text-gray-600">We welcome volunteers of all ages and backgrounds.</p></div>
                        </div>
                        <div class="flex gap-4">
                            <div class="w-12 h-12 rounded-full bg-red-100 text-red-600 flex items-center justify-center shrink-0 font-bold text-xl">2</div>
                            <div><h3 class="text-xl font-semibold text-gray-900 mb-2">Flexible Schedule</h3><p class="text-gray-600">Whether you can help once a week or once a month, your time makes a difference.</p></div>
                        </div>
                        <div class="flex gap-4">
                            <div class="w-12 h-12 rounded-full bg-red-100 text-red-600 flex items-center justify-center shrink-0 font-bold text-xl">3</div>
                            <div><h3 class="text-xl font-semibold text-gray-900 mb-2">Diverse Roles</h3><p class="text-gray-600">Food prep, gardening, boxing coaching, serving meals, and more.</p></div>
                        </div>
                    </div>
                </div>
                <div class="flex-1 w-full">
                    <div class="bg-white rounded-xl shadow-xl border-none overflow-hidden">
                        <div class="h-2 bg-red-600 w-full"></div>
                        <div id="volunteer-success" class="hidden p-12 text-center">
                            <div class="w-20 h-20 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-6">
                                <i data-lucide="check-circle-2" class="w-10 h-10"></i>
                            </div>
                            <h3 class="text-2xl font-bold text-gray-900 mb-4">Application Received!</h3>
                            <p class="text-gray-600 mb-8">Thank you for your interest in volunteering. We will review your application and contact you shortly.</p>
                            <button onclick="resetVolunteerForm()" class="px-6 py-2 border border-gray-300 rounded-md hover:bg-gray-50">Submit Another Application</button>
                        </div>
                        <div id="volunteer-form-container">
                            <div class="p-8 pb-0">
                                <h3 class="text-2xl font-bold text-gray-900">Volunteer Application</h3>
                                <p class="text-gray-500 mt-1">Fill out the form below to get started.</p>
                            </div>
                            <div class="p-8">
                                <form id="volunteer-form" action="https://formspree.io/f/xkoorvdn" method="POST" class="space-y-6">
                                    <!-- Full Name -->
                                    <div class="space-y-2">
                                        <label class="text-sm font-medium text-gray-700">Full Name *</label>
                                        <input type="text" name="name" required class="w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500" placeholder="Jane Doe">
                                    </div>

                                    <!-- Email & Phone -->
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                        <div class="space-y-2">
                                            <label class="text-sm font-medium text-gray-700">Email Address *</label>
                                            <input type="email" name="email" required class="w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500" placeholder="jane@example.com">
                                        </div>
                                        <div class="space-y-2">
                                            <label class="text-sm font-medium text-gray-700">Phone Number *</label>
                                            <input type="tel" name="phone" required class="w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500" placeholder="078 123 4567">
                                        </div>
                                    </div>

                                    <!-- Availability -->
                                    <div class="space-y-2">
                                        <label class="text-sm font-medium text-gray-700">Availability *</label>
                                        <select name="availability" required class="w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500">
                                            <option value="">Select your availability</option>
                                            <option value="weekday-mornings">Weekday Mornings</option>
                                            <option value="weekday-afternoons">Weekday Afternoons</option>
                                            <option value="weekends">Weekends</option>
                                            <option value="flexible">Flexible</option>
                                        </select>
                                    </div>

                                    <!-- Interests -->
                                    <div class="space-y-2">
                                        <label class="text-sm font-medium text-gray-700">Areas of Interest</label>
                                        <div class="grid grid-cols-2 gap-2">
                                            <label class="flex items-center space-x-2">
                                                <input type="checkbox" name="interests[]" value="cooking" class="rounded text-red-600">
                                                <span class="text-sm">Cooking/Serving</span>
                                            </label>
                                            <label class="flex items-center space-x-2">
                                                <input type="checkbox" name="interests[]" value="gardening" class="rounded text-red-600">
                                                <span class="text-sm">Gardening</span>
                                            </label>
                                            <label class="flex items-center space-x-2">
                                                <input type="checkbox" name="interests[]" value="boxing" class="rounded text-red-600">
                                                <span class="text-sm">Boxing Coaching</span>
                                            </label>
                                            <label class="flex items-center space-x-2">
                                                <input type="checkbox" name="interests[]" value="sewing" class="rounded text-red-600">
                                                <span class="text-sm">Sewing Classes</span>
                                            </label>
                                            <label class="flex items-center space-x-2">
                                                <input type="checkbox" name="interests[]" value="admin" class="rounded text-red-600">
                                                <span class="text-sm">Administration</span>
                                            </label>
                                            <label class="flex items-center space-x-2">
                                                <input type="checkbox" name="interests[]" value="fundraising" class="rounded text-red-600">
                                                <span class="text-sm">Fundraising</span>
                                            </label>
                                        </div>
                                    </div>

                                    <!-- Experience -->
                                    <div class="space-y-2">
                                        <label class="text-sm font-medium text-gray-700">Previous Volunteer Experience</label>
                                        <textarea name="experience" class="w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 min-h-[100px]" placeholder="Tell us about any previous volunteer experience..."></textarea>
                                    </div>

                                    <!-- Why Join -->
                                    <div class="space-y-2">
                                        <label class="text-sm font-medium text-gray-700">Why do you want to volunteer with us? *</label>
                                        <textarea name="message" required class="w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 min-h-[120px]" placeholder="Tell us why you'd like to join our mission..."></textarea>
                                    </div>

                                    <input type="hidden" name="_subject" value="New Volunteer Application - KwaCaleni Soup Kitchen">
                                    <input type="hidden" name="_replyto" id="volunteer-email">
                                    
                                    <button type="submit" class="w-full bg-red-600 hover:bg-red-700 text-white h-12 text-lg font-bold rounded-md transition-colors">Submit Application</button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Donate Section -->
    <section id="donate" class="py-24 bg-white">
        <div class="container mx-auto px-6">
            <div class="text-center max-w-3xl mx-auto mb-12">
                <span class="text-red-600 font-bold uppercase tracking-wider text-sm">Make a Difference</span>
                <h2 class="text-4xl font-bold text-gray-900 mt-2 mb-4">Support Our Mission</h2>
                <p class="text-xl text-gray-600">Your contribution directly impacts lives. Choose how you'd like to help today.</p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 max-w-6xl mx-auto">
                <div class="lg:col-span-2">
                    <div class="bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden h-full flex flex-col">
                        <div class="p-8 flex-1">
                            <div id="donate-success" class="hidden text-center py-12 flex flex-col justify-center h-full">
                                <div class="w-20 h-20 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-6">
                                    <i data-lucide="check-circle-2" class="w-10 h-10"></i>
                                </div>
                                <h3 class="text-2xl font-bold text-gray-900 mb-4">Thank You for Your Generosity!</h3>
                                <p class="text-gray-600 mb-8">Your support helps us keep the pots full, the garden growing, and the kids training.</p>
                                <button onclick="resetDonateForm()" class="px-6 py-2 border border-gray-300 rounded-md hover:bg-gray-50">Donate Again</button>
                            </div>
                            <div id="donate-form-container">
                                <form id="donate-form" action="https://formspree.io/f/xkoorvdn" method="POST" class="space-y-8">
                                    <div>
                                        <h3 class="text-lg font-semibold mb-4">I want to donate:</h3>
                                        <div class="grid grid-cols-3 gap-4">
                                            <button type="button" onclick="setDonationType('money')" id="btn-money" class="donation-type-btn active flex flex-col items-center p-4 rounded-xl border-2 border-red-600 bg-red-50 text-red-700 transition-all">
                                                <i data-lucide="credit-card" class="w-6 h-6 mb-2"></i>
                                                <span class="font-medium">Money</span>
                                            </button>
                                            <button type="button" onclick="setDonationType('food')" id="btn-food" class="donation-type-btn flex flex-col items-center p-4 rounded-xl border-2 border-gray-200 text-gray-600 hover:border-red-200 transition-all">
                                                <i data-lucide="shopping-bag" class="w-6 h-6 mb-2"></i>
                                                <span class="font-medium">Food</span>
                                            </button>
                                            <button type="button" onclick="setDonationType('supplies')" id="btn-supplies" class="donation-type-btn flex flex-col items-center p-4 rounded-xl border-2 border-gray-200 text-gray-600 hover:border-red-200 transition-all">
                                                <i data-lucide="package" class="w-6 h-6 mb-2"></i>
                                                <span class="font-medium">Supplies</span>
                                            </button>
                                        </div>
                                    </div>

                                    <!-- Money Section -->
                                    <div id="money-section" class="block">
                                        <h3 class="text-lg font-semibold mb-4">Select Amount (Rands):</h3>
                                        <div class="flex flex-wrap gap-3 mb-4">
                                            <button type="button" onclick="setAmount(50)" class="amount-btn flex-1 min-w-[80px] py-3 rounded-lg border font-semibold transition-all bg-white text-gray-600 border-gray-200 hover:border-gray-300" data-amount="50">R50</button>
                                            <button type="button" onclick="setAmount(100)" class="amount-btn selected flex-1 min-w-[80px] py-3 rounded-lg border font-semibold transition-all bg-red-600 text-white border-red-600 shadow-md" data-amount="100">R100</button>
                                            <button type="button" onclick="setAmount(250)" class="amount-btn flex-1 min-w-[80px] py-3 rounded-lg border font-semibold transition-all bg-white text-gray-600 border-gray-200 hover:border-gray-300" data-amount="250">R250</button>
                                            <button type="button" onclick="setAmount(500)" class="amount-btn flex-1 min-w-[80px] py-3 rounded-lg border font-semibold transition-all bg-white text-gray-600 border-gray-200 hover:border-gray-300" data-amount="500">R500</button>
                                            <button type="button" onclick="setAmount(1000)" class="amount-btn flex-1 min-w-[80px] py-3 rounded-lg border font-semibold transition-all bg-white text-gray-600 border-gray-200 hover:border-gray-300" data-amount="1000">R1000</button>
                                        </div>
                                        <div class="relative">
                                            <span class="absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 font-semibold">R</span>
                                            <input type="number" id="custom-amount" name="amount" value="100" class="w-full pl-8 py-3 border border-gray-300 rounded-md text-lg font-semibold" placeholder="Custom Amount">
                                            <input type="hidden" id="selected-amount" name="selected_amount" value="100">
                                        </div>
                                    </div>

                                    <!-- Food Section -->
                                    <div id="food-section" class="hidden">
                                        <div class="bg-orange-50 p-6 rounded-xl border border-orange-100">
                                            <div class="flex gap-3 mb-4">
                                                <i data-lucide="alert-circle" class="w-5 h-5 text-orange-600 shrink-0 mt-0.5"></i>
                                                <p class="text-sm text-orange-800">We accept non-perishable items daily. Fresh produce can be dropped off on Mondays and Thursdays. Select items you plan to donate:</p>
                                            </div>
                                            <div class="grid grid-cols-2 gap-3" id="food-options">
                                                <button type="button" class="item-btn text-left text-sm px-3 py-2 rounded-lg border border-orange-100 bg-white text-gray-600 hover:bg-orange-100 transition-colors" onclick="toggleItem(this, 'food')">Rice & Maize Meal</button>
                                                <button type="button" class="item-btn text-left text-sm px-3 py-2 rounded-lg border border-orange-100 bg-white text-gray-600 hover:bg-orange-100 transition-colors" onclick="toggleItem(this, 'food')">Canned Beans & Veg</button>
                                                <button type="button" class="item-btn text-left text-sm px-3 py-2 rounded-lg border border-orange-100 bg-white text-gray-600 hover:bg-orange-100 transition-colors" onclick="toggleItem(this, 'food')">Cooking Oil</button>
                                                <button type="button" class="item-btn text-left text-sm px-3 py-2 rounded-lg border border-orange-100 bg-white text-gray-600 hover:bg-orange-100 transition-colors" onclick="toggleItem(this, 'food')">Fresh Vegetables</button>
                                                <button type="button" class="item-btn text-left text-sm px-3 py-2 rounded-lg border border-orange-100 bg-white text-gray-600 hover:bg-orange-100 transition-colors" onclick="toggleItem(this, 'food')">Long Life Milk</button>
                                                <button type="button" class="item-btn text-left text-sm px-3 py-2 rounded-lg border border-orange-100 bg-white text-gray-600 hover:bg-orange-100 transition-colors" onclick="toggleItem(this, 'food')">Tea & Sugar</button>
                                                <button type="button" class="item-btn text-left text-sm px-3 py-2 rounded-lg border border-orange-100 bg-white text-gray-600 hover:bg-orange-100 transition-colors" onclick="toggleItem(this, 'food')">Peanut Butter</button>
                                                <button type="button" class="item-btn text-left text-sm px-3 py-2 rounded-lg border border-orange-100 bg-white text-gray-600 hover:bg-orange-100 transition-colors" onclick="toggleItem(this, 'food')">Bread Flour</button>
                                            </div>
                                            <input type="hidden" id="food-items" name="food_items">
                                        </div>
                                    </div>

                                    <!-- Supplies Section -->
                                    <div id="supplies-section" class="hidden">
                                        <div class="bg-blue-50 p-6 rounded-xl border border-blue-100">
                                            <div class="flex gap-3 mb-4">
                                                <i data-lucide="alert-circle" class="w-5 h-5 text-blue-600 shrink-0 mt-0.5"></i>
                                                <p class="text-sm text-blue-800">Help us maintain our garden, gym, and kitchen. We are currently in need of the following items:</p>
                                            </div>
                                            <div class="grid grid-cols-2 gap-3" id="supply-options">
                                                <button type="button" class="item-btn text-left text-sm px-3 py-2 rounded-lg border border-blue-100 bg-white text-gray-600 hover:bg-blue-100 transition-colors" onclick="toggleItem(this, 'supplies')">Gardening Tools</button>
                                                <button type="button" class="item-btn text-left text-sm px-3 py-2 rounded-lg border border-blue-100 bg-white text-gray-600 hover:bg-blue-100 transition-colors" onclick="toggleItem(this, 'supplies')">Seeds & Fertilizer</button>
                                                <button type="button" class="item-btn text-left text-sm px-3 py-2 rounded-lg border border-blue-100 bg-white text-gray-600 hover:bg-blue-100 transition-colors" onclick="toggleItem(this, 'supplies')">Kids Boxing Gloves</button>
                                                <button type="button" class="item-btn text-left text-sm px-3 py-2 rounded-lg border border-blue-100 bg-white text-gray-600 hover:bg-blue-100 transition-colors" onclick="toggleItem(this, 'supplies')">Gym Mats</button>
                                                <button type="button" class="item-btn text-left text-sm px-3 py-2 rounded-lg border border-blue-100 bg-white text-gray-600 hover:bg-blue-100 transition-colors" onclick="toggleItem(this, 'supplies')">Sewing Machines</button>
                                                <button type="button" class="item-btn text-left text-sm px-3 py-2 rounded-lg border border-blue-100 bg-white text-gray-600 hover:bg-blue-100 transition-colors" onclick="toggleItem(this, 'supplies')">Fabrics & Textiles</button>
                                                <button type="button" class="item-btn text-left text-sm px-3 py-2 rounded-lg border border-blue-100 bg-white text-gray-600 hover:bg-blue-100 transition-colors" onclick="toggleItem(this, 'supplies')">Threads & Needles</button>
                                                <button type="button" class="item-btn text-left text-sm px-3 py-2 rounded-lg border border-blue-100 bg-white text-gray-600 hover:bg-blue-100 transition-colors" onclick="toggleItem(this, 'supplies')">Scissors</button>
                                                <button type="button" class="item-btn text-left text-sm px-3 py-2 rounded-lg border border-blue-100 bg-white text-gray-600 hover:bg-blue-100 transition-colors" onclick="toggleItem(this, 'supplies')">Cleaning Supplies</button>
                                                <button type="button" class="item-btn text-left text-sm px-3 py-2 rounded-lg border border-blue-100 bg-white text-gray-600 hover:bg-blue-100 transition-colors" onclick="toggleItem(this, 'supplies')">Kitchen Utensils</button>
                                            </div>
                                            <input type="hidden" id="supply-items" name="supply_items">
                                        </div>
                                    </div>

                                    <div class="space-y-4">
                                        <h3 class="text-lg font-semibold">Your Information:</h3>
                                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                            <input type="text" name="name" required class="w-full px-3 py-2 bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500" placeholder="Full Name *">
                                            <input type="email" name="email" required class="w-full px-3 py-2 bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500" placeholder="Email Address *">
                                        </div>
                                        <input type="tel" name="phone" class="w-full px-3 py-2 bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500" placeholder="Phone Number (optional)">
                                        <textarea name="message" class="w-full px-3 py-2 bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 resize-none" placeholder="Leave a message (optional)"></textarea>
                                    </div>

                                    <input type="hidden" name="donation_type" id="donation-type" value="money">
                                    <input type="hidden" name="_subject" id="donate-subject" value="New Money Donation - KwaCaleni Soup Kitchen">
                                    
                                    <button type="submit" id="donate-submit-btn" class="w-full bg-red-600 hover:bg-red-700 text-white h-14 text-lg font-bold rounded-xl shadow-lg hover:shadow-xl transition-all">Pledge R100 Donation</button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Sidebar Info -->
                <div class="space-y-6">
                    <div class="bg-stone-900 text-white p-8 rounded-2xl shadow-lg">
                        <h3 class="text-xl font-bold mb-6 text-red-400">Bank Transfer Details</h3>
                        <div class="space-y-4 text-gray-300">
                            <div class="flex justify-between border-b border-gray-700 pb-2"><span>Bank</span><span class="font-semibold text-white">First National Bank</span></div>
                            <div class="flex justify-between border-b border-gray-700 pb-2"><span>Account Name</span><span class="font-semibold text-white text-right">KwaCaleni Soup Kitchen NPO</span></div>
                            <div class="flex justify-between border-b border-gray-700 pb-2"><span>Account No</span><span class="font-semibold text-white">63184586908</span></div>
                            <div class="flex justify-between border-b border-gray-700 pb-2"><span>Branch Code</span><span class="font-semibold text-white">250 655</span></div>
                            <div class="flex justify-between border-b border-gray-700 pb-2"><span>SWIFT Code</span><span class="font-semibold text-white">FIRNZAJJ</span></div>
                            <div class="pt-2 text-sm text-gray-400">Reference: Your Name + Donation</div>
                        </div>
                    </div>
                    <div class="p-6 bg-gray-50 rounded-2xl border border-gray-200">
                        <h3 class="text-lg font-bold text-gray-800 mb-2">Why We Need Your Help</h3>
                        <p class="text-gray-600 text-sm mb-4">Every rand and every can of beans goes directly to serving our community. We rely 100% on donations to keep our operations running.</p>
                        <div class="space-y-2 text-sm text-gray-600">
                            <p>• R100 feeds a family for a day</p>
                            <p>• Boxing gear keeps kids off the streets</p>
                            <p>• Seeds help us grow our own sustainable food</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="py-24 bg-stone-50">
        <div class="container mx-auto px-6">
            <div class="text-center max-w-3xl mx-auto mb-16">
                <span class="text-red-600 font-bold uppercase tracking-wider text-sm">Get In Touch</span>
                <h2 class="text-4xl font-bold text-gray-900 mt-2 mb-4">Contact Us</h2>
                <p class="text-xl text-gray-600">We'd love to hear from you. Reach out for volunteering, donations, or if you need support.</p>
            </div>
            <div class="bg-white rounded-3xl shadow-xl overflow-hidden flex flex-col md:flex-row">
                <div class="p-12 md:w-1/3 bg-gray-900 text-white flex flex-col justify-between">
                    <div>
                        <h3 class="text-2xl font-bold mb-8">Contact Information</h3>
                        <div class="space-y-8">
                            <div class="flex gap-4 items-start">
                                <div class="w-12 h-12 rounded-full bg-white/10 flex items-center justify-center shrink-0"><i data-lucide="map-pin" class="w-6 h-6 text-red-500"></i></div>
                                <div><h4 class="text-lg font-semibold mb-1">Address</h4><p class="text-gray-400">104 NOMATSE STREET, KUYASA<br />KHAYELITSHA, WESTERN CAPE, 7784</p></div>
                            </div>
                            <div class="flex gap-4 items-start">
                                <div class="w-12 h-12 rounded-full bg-white/10 flex items-center justify-center shrink-0"><i data-lucide="phone" class="w-6 h-6 text-red-500"></i></div>
                                <div><h4 class="text-lg font-semibold mb-1">Phone</h4><p class="text-gray-400">078 907 1456</p></div>
                            </div>
                            <div class="flex gap-4 items-start">
                                <div class="w-12 h-12 rounded-full bg-white/10 flex items-center justify-center shrink-0"><i data-lucide="mail" class="w-6 h-6 text-red-500"></i></div>
                                <div><h4 class="text-lg font-semibold mb-1">Email</h4><p class="text-gray-400">kwacalenisk@gmail.com</p></div>
                            </div>
                        </div>
                    </div>
                    <div class="mt-12"><p class="text-gray-500 text-sm">Emergency food assistance is available during operating hours. Please call ahead if possible.</p></div>
                </div>
                <div class="md:w-2/3 h-[400px] md:h-auto bg-gray-200 relative" id="map-container">
                    <div id="map-loading" class="absolute inset-0 z-10">
                        <i data-lucide="map-pin" class="w-12 h-12 text-gray-400 mb-4 animate-pulse"></i>
                        <p class="text-gray-600">Loading map...</p>
                    </div>
                    <div id="map" class="absolute inset-0"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white pt-20 pb-10">
        <div class="container mx-auto px-6">
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 mb-16">
                <div class="space-y-6">
                    <div class="flex items-center gap-2">
                        <div class="bg-white/10 p-2 rounded-full"><i data-lucide="heart" class="w-5 h-5 text-red-500"></i></div>
                        <span class="text-2xl font-bold">KwaCaleni Soup<span class="text-red-500">Kitchen</span></span>
                    </div>
                    <p class="text-gray-400 leading-relaxed">Serving meals with love and compassion since 2020. Join us in our mission to eliminate hunger and build a stronger community.</p>
                    <div class="flex gap-4">
                        <a href="https://facebook.com" target="_blank" rel="noopener noreferrer" class="w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center hover:bg-blue-700 hover:scale-110 transition-all duration-300"><i data-lucide="facebook" class="w-4 h-4 text-white"></i></a>
                        <a href="https://wa.me/27789071456" target="_blank" rel="noopener noreferrer" class="w-10 h-10 rounded-full bg-green-500 flex items-center justify-center hover:bg-green-600 hover:scale-110 transition-all duration-300"><i data-lucide="message-circle" class="w-4 h-4 text-white"></i></a>
                    </div>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-6">Quick Links</h3>
                    <ul class="space-y-4">
                        <li><a href="#home" class="text-gray-400 hover:text-white hover:translate-x-1 inline-block transition-all">Home</a></li>
                        <li><a href="#about" class="text-gray-400 hover:text-white hover:translate-x-1 inline-block transition-all">About Us</a></li>
                        <li><a href="#services" class="text-gray-400 hover:text-white hover:translate-x-1 inline-block transition-all">Services</a></li>
                        <li><a href="#volunteer" class="text-gray-400 hover:text-white hover:translate-x-1 inline-block transition-all">Volunteer</a></li>
                        <li><a href="#donate" class="text-gray-400 hover:text-white hover:translate-x-1 inline-block transition-all">Donate</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-6">Our Services</h3>
                    <ul class="space-y-4 text-gray-400">
                        <li>Hot Nutritious Meals</li>
                        <li>Community Garden</li>
                        <li>Kids Boxing Gym</li>
                        <li>Sewing Classes</li>
                        <li>Social Support</li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-6">Contact Us</h3>
                    <ul class="space-y-6">
                        <li class="flex gap-4"><i data-lucide="map-pin" class="w-5 h-5 text-red-500 shrink-0"></i><span class="text-gray-400">104 NOMATSE STREET, KUYASA<br />KHAYELITSHA, WESTERN CAPE, 7784</span></li>
                        <li class="flex gap-4"><i data-lucide="phone" class="w-5 h-5 text-red-500 shrink-0"></i><span class="text-gray-400">078 907 1456</span></li>
                        <li class="flex gap-4"><i data-lucide="mail" class="w-5 h-5 text-red-500 shrink-0"></i><span class="text-gray-400">kwacalenisk@gmail.com</span></li>
                    </ul>
                </div>
            </div>
            <div class="border-t border-white/10 pt-8 text-center">
                <p class="text-gray-500 text-sm">&copy; 2025 KwaCaleni Soup Kitchen. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // Initialize Lucide Icons
        lucide.createIcons();

        // Google Maps Initialization with Geocoding
        let map;
        let marker;
        let infoWindow;

        function initMap() {
            // First create a basic map with default coordinates
            const defaultLocation = { lat: -33.9249, lng: 18.4241 }; // Cape Town center as fallback
            
            map = new google.maps.Map(document.getElementById("map"), {
                zoom: 12,
                center: defaultLocation,
                mapTypeId: 'roadmap',
                mapTypeControl: true,
                mapTypeControlOptions: {
                    style: google.maps.MapTypeControlStyle.HORIZONTAL_BAR,
                    position: google.maps.ControlPosition.TOP_RIGHT,
                    mapTypeIds: ['roadmap', 'satellite']
                },
                streetViewControl: false,
                fullscreenControl: true,
                styles: [
                    {
                        "featureType": "all",
                        "elementType": "labels.text.fill",
                        "stylers": [
                            {
                                "color": "#7c93a3"
                            },
                            {
                                "lightness": "-10"
                            }
                        ]
                    },
                    {
                        "featureType": "administrative.country",
                        "elementType": "geometry",
                        "stylers": [
                            {
                                "visibility": "on"
                            }
                        ]
                    },
                    {
                        "featureType": "administrative.country",
                        "elementType": "geometry.stroke",
                        "stylers": [
                            {
                                "color": "#a0a4a5"
                            }
                        ]
                    },
                    {
                        "featureType": "administrative.province",
                        "elementType": "geometry.stroke",
                        "stylers": [
                            {
                                "color": "#62838e"
                            }
                        ]
                    },
                    {
                        "featureType": "landscape",
                        "elementType": "geometry.fill",
                        "stylers": [
                            {
                                "color": "#f5f5f5"
                            }
                        ]
                    },
                    {
                        "featureType": "landscape.man_made",
                        "elementType": "geometry.fill",
                        "stylers": [
                            {
                                "color": "#ffffff"
                            }
                        ]
                    },
                    {
                        "featureType": "poi",
                        "elementType": "all",
                        "stylers": [
                            {
                                "visibility": "off"
                            }
                        ]
                    },
                    {
                        "featureType": "road",
                        "elementType": "all",
                        "stylers": [
                            {
                                "saturation": -100
                            },
                            {
                                "lightness": 45
                            }
                        ]
                    },
                    {
                        "featureType": "road.highway",
                        "elementType": "all",
                        "stylers": [
                            {
                                "visibility": "simplified"
                            }
                        ]
                    },
                    {
                        "featureType": "road.arterial",
                        "elementType": "labels.icon",
                        "stylers": [
                            {
                                "visibility": "off"
                            }
                        ]
                    },
                    {
                        "featureType": "transit",
                        "elementType": "all",
                        "stylers": [
                            {
                                "visibility": "off"
                            }
                        ]
                    },
                    {
                        "featureType": "water",
                        "elementType": "all",
                        "stylers": [
                            {
                                "color": "#dde6e8"
                            },
                            {
                                "visibility": "on"
                            }
                        ]
                    }
                ]
            });

            // Now geocode the address to get exact coordinates
            geocodeAddress();
        }

        function geocodeAddress() {
            const address = '104 Nomatse Street, Kuyasa, Khayelitsha, Western Cape, 7784';
            
            // Create a geocoder instance
            const geocoder = new google.maps.Geocoder();
            
            // Hide loading screen
            document.getElementById('map-loading').style.display = 'none';
            
            geocoder.geocode({ 
                'address': address,
                'componentRestrictions': {
                    'country': 'ZA' // South Africa
                }
            }, function(results, status) {
                if (status === 'OK') {
                    // Get the exact location from geocoding
                    const location = results[0].geometry.location;
                    const bounds = results[0].geometry.bounds;
                    
                    // Center and zoom the map to the exact location
                    map.setCenter(location);
                    map.setZoom(17); // Zoom in closer for better detail
                    
                    // If bounds are available, fit the map to the bounds
                    if (bounds) {
                        map.fitBounds(bounds);
                    }
                    
                    // Create the marker at the exact location
                    marker = new google.maps.Marker({
                        position: location,
                        map: map,
                        title: 'KwaCaleni Soup Kitchen',
                        icon: {
                            path: google.maps.SymbolPath.CIRCLE,
                            scale: 14,
                            fillColor: "#DC2626",
                            fillOpacity: 1,
                            strokeColor: "#FFFFFF",
                            strokeWeight: 3
                        },
                        animation: google.maps.Animation.DROP
                    });

                    // Create info window
                    infoWindow = new google.maps.InfoWindow({
                        content: `
                            <div style="padding: 12px; max-width: 240px;">
                                <h3 style="margin: 0 0 8px; color: #DC2626; font-weight: bold; font-size: 16px;">KwaCaleni Soup Kitchen</h3>
                                <p style="margin: 0; font-size: 14px; color: #4B5563; line-height: 1.4;">
                                    <strong>Exact Address:</strong><br>
                                    104 NOMATSE STREET<br>
                                    KUYASA, KHAYELITSHA<br>
                                    WESTERN CAPE, 7784
                                </p>
                                <p style="margin: 8px 0 0; font-size: 14px; color: #4B5563;">
                                    <strong>Phone:</strong> 078 907 1456<br>
                                    <strong>Email:</strong> kwacalenisk@gmail.com
                                </p>
                                <div style="margin-top: 8px; padding-top: 8px; border-top: 1px solid #e5e7eb;">
                                    <small style="color: #6b7280; font-size: 12px;">
                                        Emergency food assistance available during operating hours
                                    </small>
                                </div>
                            </div>
                        `
                    });

                    // Add click listener to marker
                    marker.addListener('click', () => {
                        infoWindow.open(map, marker);
                    });

                    // Open info window by default
                    infoWindow.open(map, marker);
                    
                    // Log the exact coordinates for debugging
                    console.log('Exact coordinates found:', location.lat(), location.lng());
                    console.log('Formatted address:', results[0].formatted_address);
                    
                } else {
                    // If geocoding fails, show error and use a marker anyway
                    console.error('Geocode was not successful for the following reason: ' + status);
                    
                    // Create a marker at approximate location (Khayelitsha area)
                    const approximateLocation = { lat: -34.0522, lng: 18.6810 };
                    map.setCenter(approximateLocation);
                    map.setZoom(15);
                    
                    marker = new google.maps.Marker({
                        position: approximateLocation,
                        map: map,
                        title: 'KwaCaleni Soup Kitchen (Approximate Location)',
                        icon: {
                            path: google.maps.SymbolPath.CIRCLE,
                            scale: 12,
                            fillColor: "#DC2626",
                            fillOpacity: 0.8,
                            strokeColor: "#FFFFFF",
                            strokeWeight: 2
                        }
                    });
                    
                    infoWindow = new google.maps.InfoWindow({
                        content: `
                            <div style="padding: 12px; max-width: 240px;">
                                <h3 style="margin: 0 0 8px; color: #DC2626; font-weight: bold; font-size: 16px;">KwaCaleni Soup Kitchen</h3>
                                <p style="margin: 0; font-size: 14px; color: #4B5563; line-height: 1.4;">
                                    <strong>Address:</strong><br>
                                    104 NOMATSE STREET<br>
                                    KUYASA, KHAYELITSHA<br>
                                    WESTERN CAPE, 7784
                                </p>
                                <p style="margin: 8px 0 0; font-size: 14px; color: #ef4444;">
                                    <i>Note: Showing approximate location. Exact coordinates could not be determined.</i>
                                </p>
                            </div>
                        `
                    });
                    
                    infoWindow.open(map, marker);
                }
            });
        }

        // Handle Google Maps API loading error
        window.gm_authFailure = function() {
            alert('Google Maps failed to load. Please check your API keys and ensure both Maps JavaScript API and Geocoding API are enabled in Google Cloud Console.');
            document.getElementById('map-loading').innerHTML = `
                <div style="text-align: center; padding: 20px;">
                    <i data-lucide="alert-triangle" class="w-12 h-12 text-red-500 mb-4"></i>
                    <p class="text-gray-600">Failed to load map. Please check API configuration.</p>
                </div>
            `;
            lucide.createIcons();
        };

        // Navbar Scroll Effect
        const navbar = document.getElementById('navbar');
        const navText = document.getElementById('nav-text');
        const navIcon = document.getElementById('nav-icon');
        const navIconBg = document.getElementById('nav-icon-bg');
        const navLinks = document.querySelectorAll('.nav-link');
        const mobileMenuBtn = document.getElementById('mobile-menu-btn');
        const navDonateBtn = document.getElementById('nav-donate-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        const mobileLinks = document.querySelectorAll('.mobile-link');

        function updateNavbar() {
            if (window.scrollY > 20) {
                navbar.classList.remove('bg-transparent', 'py-5');
                navbar.classList.add('bg-white/95', 'backdrop-blur-sm', 'shadow-md', 'py-3');
                
                navText.classList.remove('text-white');
                navText.classList.add('text-gray-900');
                
                navIcon.classList.remove('text-white');
                navIcon.classList.add('text-red-600');
                
                navIconBg.classList.remove('bg-white/20');
                navIconBg.classList.add('bg-red-50');
                
                mobileMenuBtn.classList.remove('text-white');
                mobileMenuBtn.classList.add('text-gray-900');
                
                navLinks.forEach(link => {
                    link.classList.remove('text-white/90', 'hover:text-white');
                    link.classList.add('text-gray-600', 'hover:text-red-600');
                });
                
                navDonateBtn.classList.remove('bg-white', 'text-red-600');
                navDonateBtn.classList.add('bg-red-600', 'text-white');
            } else {
                navbar.classList.add('bg-transparent', 'py-5');
                navbar.classList.remove('bg-white/95', 'backdrop-blur-sm', 'shadow-md', 'py-3');
                
                navText.classList.add('text-white');
                navText.classList.remove('text-gray-900');
                
                navIcon.classList.add('text-white');
                navIcon.classList.remove('text-red-600');
                
                navIconBg.classList.add('bg-white/20');
                navIconBg.classList.remove('bg-red-50');
                
                mobileMenuBtn.classList.add('text-white');
                mobileMenuBtn.classList.remove('text-gray-900');
                
                navLinks.forEach(link => {
                    link.classList.add('text-white/90', 'hover:text-white');
                    link.classList.remove('text-gray-600', 'hover:text-red-600');
                });
                
                navDonateBtn.classList.add('bg-white', 'text-red-600');
                navDonateBtn.classList.remove('bg-red-600', 'text-white');
            }
        }

        window.addEventListener('scroll', updateNavbar);
        updateNavbar(); // Init

        // Mobile Menu
        mobileMenuBtn.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
            lucide.createIcons();
        });

        mobileLinks.forEach(link => {
            link.addEventListener('click', () => {
                mobileMenu.classList.add('hidden');
            });
        });

        // Volunteer Form
        const volunteerForm = document.getElementById('volunteer-form');
        const volunteerSuccess = document.getElementById('volunteer-success');
        const volunteerFormContainer = document.getElementById('volunteer-form-container');
        const volunteerEmail = document.getElementById('volunteer-email');

        volunteerForm.addEventListener('submit', (e) => {
            e.preventDefault();
            
            // Set the email for reply-to
            const emailInput = volunteerForm.querySelector('input[name="email"]');
            if (emailInput) {
                volunteerEmail.value = emailInput.value;
            }
            
            // Show success message
            volunteerFormContainer.classList.add('hidden');
            volunteerSuccess.classList.remove('hidden');
            
            // Actually submit the form (Formspree will handle it)
            setTimeout(() => {
                volunteerForm.submit();
            }, 1000);
        });

        function resetVolunteerForm() {
            volunteerForm.reset();
            volunteerSuccess.classList.add('hidden');
            volunteerFormContainer.classList.remove('hidden');
        }

        // Donate Form
        let currentDonationType = 'money';
        let currentAmount = 100;
        let selectedFoodItems = [];
        let selectedSupplyItems = [];

        const btnMoney = document.getElementById('btn-money');
        const btnFood = document.getElementById('btn-food');
        const btnSupplies = document.getElementById('btn-supplies');
        const moneySection = document.getElementById('money-section');
        const foodSection = document.getElementById('food-section');
        const suppliesSection = document.getElementById('supplies-section');
        const donateSubmitBtn = document.getElementById('donate-submit-btn');
        const donateForm = document.getElementById('donate-form');
        const donateSuccess = document.getElementById('donate-success');
        const donateFormContainer = document.getElementById('donate-form-container');
        const customAmountInput = document.getElementById('custom-amount');
        const selectedAmountInput = document.getElementById('selected-amount');
        const donationTypeInput = document.getElementById('donation-type');
        const donateSubject = document.getElementById('donate-subject');
        const foodItemsInput = document.getElementById('food-items');
        const supplyItemsInput = document.getElementById('supply-items');

        function setDonationType(type) {
            currentDonationType = type;
            donationTypeInput.value = type;
            
            // Update subject line
            donateSubject.value = `New ${type.charAt(0).toUpperCase() + type.slice(1)} Donation - KwaCaleni Soup Kitchen`;
            
            // Reset Buttons
            [btnMoney, btnFood, btnSupplies].forEach(btn => {
                btn.classList.remove('active');
            });
            
            if (type === 'money') {
                btnMoney.classList.add('active');
                moneySection.classList.remove('hidden');
                foodSection.classList.add('hidden');
                suppliesSection.classList.add('hidden');
            } else if (type === 'food') {
                btnFood.classList.add('active');
                moneySection.classList.add('hidden');
                foodSection.classList.remove('hidden');
                suppliesSection.classList.add('hidden');
            } else if (type === 'supplies') {
                btnSupplies.classList.add('active');
                moneySection.classList.add('hidden');
                foodSection.classList.add('hidden');
                suppliesSection.classList.remove('hidden');
            }
            
            updateDonateButton();
        }

        function setAmount(amount) {
            currentAmount = amount;
            customAmountInput.value = amount;
            selectedAmountInput.value = amount;
            
            // Update visual state of amount buttons
            document.querySelectorAll('.amount-btn').forEach(btn => {
                btn.classList.remove('selected');
                if (parseInt(btn.dataset.amount) === amount) {
                    btn.classList.add('selected');
                }
            });
            updateDonateButton();
        }

        customAmountInput.addEventListener('input', (e) => {
            currentAmount = e.target.value;
            selectedAmountInput.value = currentAmount;
            
            // Deselect buttons if custom amount
            document.querySelectorAll('.amount-btn').forEach(btn => {
                btn.classList.remove('selected');
            });
            updateDonateButton();
        });

        function toggleItem(btn, type) {
            const item = btn.textContent;
            
            if (type === 'food') {
                const index = selectedFoodItems.indexOf(item);
                if (index > -1) {
                    selectedFoodItems.splice(index, 1);
                    btn.classList.remove('selected');
                } else {
                    selectedFoodItems.push(item);
                    btn.classList.add('selected');
                }
                foodItemsInput.value = selectedFoodItems.join(', ');
            } else if (type === 'supplies') {
                const index = selectedSupplyItems.indexOf(item);
                if (index > -1) {
                    selectedSupplyItems.splice(index, 1);
                    btn.classList.remove('selected');
                } else {
                    selectedSupplyItems.push(item);
                    btn.classList.add('selected');
                }
                supplyItemsInput.value = selectedSupplyItems.join(', ');
            }
        }

        function updateDonateButton() {
            if (currentDonationType === 'money') {
                donateSubmitBtn.textContent = `Pledge R${currentAmount} Donation`;
            } else {
                donateSubmitBtn.textContent = `Pledge ${currentDonationType.charAt(0).toUpperCase() + currentDonationType.slice(1)} Donation`;
            }
        }

        donateForm.addEventListener('submit', (e) => {
            e.preventDefault();
            
            // Show success message
            donateFormContainer.classList.add('hidden');
            donateSuccess.classList.remove('hidden');
            
            // Actually submit the form (Formspree will handle it)
            setTimeout(() => {
                donateForm.submit();
            }, 1000);
        });

        function resetDonateForm() {
            donateForm.reset();
            setDonationType('money');
            setAmount(100);
            selectedFoodItems = [];
            selectedSupplyItems = [];
            foodItemsInput.value = '';
            supplyItemsInput.value = '';
            
            // Reset all item buttons
            document.querySelectorAll('.item-btn').forEach(btn => {
                btn.classList.remove('selected');
            });
            
            donateSuccess.classList.add('hidden');
            donateFormContainer.classList.remove('hidden');
        }

        // Initialize
        setDonationType('money');
        setAmount(100);
        
        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const targetId = this.getAttribute('href');
                if (targetId === '#') return;
                
                const targetElement = document.querySelector(targetId);
                if (targetElement) {
                    window.scrollTo({
                        top: targetElement.offsetTop - 80,
                        behavior: 'smooth'
                    });
                }
            });
        });

        // Update current year in footer
        document.addEventListener('DOMContentLoaded', function() {
            const yearSpan = document.querySelector('footer p');
            if (yearSpan) {
                yearSpan.innerHTML = yearSpan.innerHTML.replace('2025', new Date().getFullYear());
            }
        });
    </script>
</body>
</html>